// Optimize token minting flow
// Bugfix: incorrect reward calculation
