// Optimize contract upgrade process
// Fix compatibility issues with MetaMask
